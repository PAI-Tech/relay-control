<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spell Editor</title>
    <script src="../../public/js/jquery-3.5.0.min.js"></script>
    <link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAuCAMAAACvSe/GAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QjRBQkU2NUVGQjAxMUVBQkU5MEFCQTY2OUU3MkI2QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QjRBQkU2NkVGQjAxMUVBQkU5MEFCQTY2OUU3MkI2QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdCNEFCRTYzRUZCMDExRUFCRTkwQUJBNjY5RTcyQjZBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdCNEFCRTY0RUZCMDExRUFCRTkwQUJBNjY5RTcyQjZBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Fowc5gAAAbNQTFRF6+vw9/f5Kipiy8vZwsLSHh5aKytj/Pz9aWmRTEx7vb3OyMjX0NDcAAA9AAA8/f3+w8PTSEh4zc3aICBburrMvLzNxsbVJSVTLy9mPT1qBQVImpqvOjpuFBRS+fn61NTdzc3b1tbjGhpW8fH1GxtXEhJE9PT0xcXTq6u8AwM18fH3aWmQrq7EAAAveXmdJCRe0dHdJSVGDg5Ot7fKs7O9jY2k5OTr9vb57u7yrKy/ZWWKxsbR29vlJydT6eno4+PqycnU6enub2+Wzs7aCgo4AAAy2dnf9vb8hISkdXWcAAAsAAAzAABCs7PDAAAtWlqFT09+GBg76+vv19fk+Pj66Ojn3t7nHR1Re3ueT091nJyvCAhJwMDPQkJ0QEByGxtPu7vNdHScyMjWKytXs7O8gYGbKiphn5+1AAAdCAg/09PfubnL0tLd5+ftycnWAABDJydS39/nJCRQHBxXRERxzc3c8vL5Bwc44eHoBwc59vb4jIyqyMjZ9fX6dnaRiIin6OjxLCxkrKzBb2+VxcXU0dHbbGyIAAA2BwdJERE/WlqGT099pqa9Jydazs7W/////v7+Y0j7FQAAAWdJREFUeNrs1lVzwkAUBeDUoBagUKDu7u7u7u7u7u5uJz+5SxuGQCedzfLUKefxzubbrCXLCYIA5pCHuS+g0I0lVgCVC+/uDFFlnxLCAhhHx3SeynMXPCECgUFsM9AcIAK+KrVlNEoDbx8X4AJ+BcST5lgCLYCBvEhHAbVzKfY1eQBczPPhsF1r4K0uPnmRDgBO1s7vl1+kArDd0DiSPgUKANpOExnuVUiZrQjdpWUKalR2qBzQ9zQD0uV1mgQYCidtkWugAhCXQXo72+QkgL7tgNS6wmgAATct+b1J9beSxsDrcXv0RasedKtQbC7fmXdYhQfz1mwi7TIC/T92DbQV9BtJbif+4dMIsAG2P0ARG7D+4U+StR86uQoGAEhd0vA8r3nsKFGD6Q0KSv1ITFWxzs+B67P+HwDWO9K09Y5kzNmI8lCelb1xETjaHTR4KU9md9M3ICCih2NIdYLtquvkXdmpfAowACwwPsqEEiV3AAAAAElFTkSuQmCC" rel="icon" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@animxyz/core@0.1.1/dist/animxyz.min.css">
    <script src="spell.js"></script>
    <script src="html-spells.js"></script>

    <link href="/public/images/pai/pai-bot-fav-icon.png" rel="icon"  />
    <meta name="keywords" content="PAI-TECH, BOT, OPERATING, SYSTEM">
    <meta name="author" content="EVE - PAI-DEV-BOT">
    <meta name="generator" content="PAI-BOT" />
    <meta content="PAI-TECH" name="title">
    <meta content="BOT OPERATING SYSTEM" name="description">
    <meta content="PAI-TECH.ORG" property="og:site_name">
    <meta content="PAI-TECH | BOTS | BOT Operating System" property="og:title">
    <meta content="/public/images/pai/pai-bot-fav-icon.png" property="og:image">
    <meta content="BOT OPERATING SYSTEM" property="og:description">
    <link rel="stylesheet" href="/public/style/pai-web.css">
</head>
<body class="bg-dark" style=''>

</body>
<script language="JavaScript">

   let v = {
       "main-view": {
           _type : "view",
           _id: "pai-desktop" ,
           style: "width:100%;margin: 0;padding:0",
           "css-class":"constainer-fluid xyz-in",
           animation:"fade"
       }
   }


    let pai_desktop_data = {
        _type : "view",
        _id: "pai-desktop" ,
        style: "width:100%;margin: 0;padding:0",
        "css-class":"container-fluid xyz-in",
        xyz:"fade"
    };

    let stage_view = {
        _type : "view",
        _id: "spell-stage",
        text:"&nbsp;",
        style: "background-color:white;position:absolute;left:20%;top:10%;width:640px;height:480px;"
    };


    let tool_box_data = {
        _type : "view",
        _id: "tool-box",
        name: "tool-box",
        style: "position:absolute;left:0;top:0;width:10%;height:100%;border-right:white solid 1px;display:flex;flex-direction:column",
        spells: [
            {
                _type : "label",
                text:"Spell",
                "xyz":"fade flip-right duration-10 ease-out-back",
                style: "text-align:center;font-size:30px;width:100%;margin-top:50px"
            },
        ]
    }

    let pai_desktop = new SpellView(pai_desktop_data);
    let stage = new SpellView(stage_view);
    let tool_box = new SpellView(tool_box_data);

    let tool_box_buttons = ["View","Label","Button","Text","Window","Video"];

    tool_box_buttons.forEach(button =>  add_tool_box_button(button,button.toLowerCase()) );

    pai_desktop.append(stage);
    pai_desktop.append(tool_box);

    jQuery( document ).ready(function($) {
        $("body").append(pai_desktop.get_html());
    });




    function add_tool_box_button(text,type)
    {
        let pid = SpellUtils.guid();
        let test_button = {
            _type : type,
            _id: "test-" + type + "-" + pid,
            name: "test-" + type + "-" + pid,
            "text" : text,
            style: "background-color:white;margin:10% 0 0 10% ;width:80%;height:30px;",
            onclick: "add_object('" + type +  "')"
        }

        let btn1 = new SpellButton(test_button);
        tool_box.append(btn1);
    }






    function add_window()
    {
        let test_window = {
            _type : "window",
            _id: "test-win",
            name: "test-win",
            _caption: "window -1 ",
            style: "width:480px;height:480px;background-color:gray;border-radius:5px",
        }


        let win1 = new SPELL_WINDOW(test_window);
        stage.append(win1);
    }


    let tool_box_objects = {
        "view" :   {
            "js-class" :SpellView,
            "defaults": {
              _type : "view",
              _id: "pai-view-" ,
              name: "pai-view-",
              text: "new view",
              style: "background-color:white;width:100px;margin:10px 0 0 10px; height:100px;border:1px solid black",
              onclick: ""
            }
        },
        "label" : {
            "js-class" : SpellLabel,
            "defaults": {
                _type : "label",
                _id: "test-label",
                name: "test-label",
                text:"label 1",
                "css-class":"xyz-in",
                "xyz":"fade rotate-right-50 duration-20 ease-out-back",
                style: "background-color:red;margin:10% 0 0 10% ;width:80%;height:30px;",
            }
        }
        ,
        "button" : {
            "js-class" : SpellButton,
            "defaults": {
                _type : "button",
                _id: "test-btn",
                name: "test-btn",
                text:"button 1",
                value:"button 1",
                style: "background-color:white;margin:10% 0 0 10% ;width:80%;height:30px;",
                onclick: "alert(this.id)"
            }
        },
        "text" : {
            "js-class" : SpellTextField,
            "defaults": {
                _type : "text",
                _id: "test-txt",
                name: "test-txt",
                value:"text 1",
                placeholder:"write your text here",
                style: "background-color:white;margin:10% 0 0 10% ;width:80%;height:30px;",
            }
        },
        "window" : {
            "js-class" : SPELL_WINDOW,
            "defaults": {
                _type : "window",
                _id: "test-win",
                name: "test-win",
                _caption: "window -1 ",
                style: "width:480px;height:480px;background-color:gray;border-radius:5px",
            }
        },
        "video" : {
            "js-class" : SpellVideo,
            "defaults": {
                _type : "video",
                _id: "pai-video-player",
                name:"pai-video-player",
                "src":"https://pai-cdn.pai-net.org/pai-cdn/get-file?cdn-key=29ed8209-acf4-45d4-95a3-1067f3d07ea7",
                "playsinline":true,
                "autoplay":"true",
                "muted":"true",
                style: "position:absolute;padding0;left:0;top:0%;width:100%;height:100%;z-index:0"
            }
        }
    };


    function add_object(obj_type)
    {
        if(tool_box_objects.hasOwnProperty(obj_type))
        {
            let pid = get_pai_guid();
            let class_name = tool_box_objects[obj_type]["js-class"];
            let defs = tool_box_objects[obj_type]["defaults"];
            if(defs.hasOwnProperty("_id"))
            {
                defs["_id"] += pid;
            }
            if(defs.hasOwnProperty("name"))
            {
                defs["name"] += pid;
            }
            defs[""]
            //console.log(" creating " + class_name);
            //console.log(" with defaults  " + JSON.stringify(defs));
            let vo = new class_name(defs);

            stage.append(vo);
        }

    }



    //
    // let pai_bot_data = {
    //     _type : "image",
    //     _id: "pai-bot",
    //     name: "pai-bot",
    //     "src":"../../public/images/pai/pai-bot.png",
    //     style: "background-color:red;position:absolute;right:10%;bottom:10%;width:80px;border-radius:0%"
    // };
    //
    // let bot_console_output_data = {
    //     _type : "view",
    //     _id: "pai-bot-console",
    //     name: "pai-bot-console",
    //     text:"Hey :)",
    //     style: "background-color:white;position:absolute;padding-left:10px;left:0;top:10%;width:40%;border-radius:0%"
    // };
    //
    //
    //
    //
    // let bg_video_data = {
    //     _type : "video",
    //     _id: "pai-video-player",
    //     name:"pai-video-player",
    //     "src":"https://pai-cdn.pai-net.org/pai-cdn/get-file?cdn-key=29ed8209-acf4-45d4-95a3-1067f3d07ea7",
    //     text:"Hey :)",
    //     "playsinline":true,
    //     "autoplay":"true",
    //     "muted":"true",
    //     style: "position:absolute;padding0;left:0;top:0%;width:100%;height:100%;z-index:0"
    // };
    // // <video id='` + this.id +`' src="` + this.video_src + `" class="pai-video-player-video" playsinline="true" webkit-playsinline="true" ` + autoplay_txt + loop_txt + controls_txt + muted_txt  + ` style="object-fit:` + this.video_fill + `" type="application/x-mpegURL"></video>




</script>
</html>